# 方法实现

- Pick
  
  ```typescript

    type Pick<T, K extends keyof T> = {
       [P in K]: T[P]
    } 

    interface I {
        name: string,
        age: number
    }

    type m = Pick<I, 'name'>;

    const a: m = {
        name: 'aaa'
    }
  ```

  - 获取枚举类型的 key 值

    ```typescript
        enum LogLevel {
            ERROR,
            WARN,
            INFO,
            DEBUG,
        }

        type keys = keyof typeof LogLevel

        type myObj = {
            [key in keys]: any
        }
    ```

- 优雅的权限获取: 位运算
  
    ```typescript
        const SampleFlags = {
            A: 1 << 0,
            B: 1 << 1,
            C: 1 << 2,
        } as const;

        const isInAMode = (flag: number) => Boolean(flag & SampleFlags.A);

        isInAMode(SampleFlags.A | SampleFlags.B); // true
        isInAMode(SampleFlags.C); // false
        isInAMode(15); // true
    ```

- enum的本质
  
  ```javascript
    var Color;
    (
        function(Color) {
            Color[Color["Red"] = 1] = "Red";
        }
    )(Color || (Color = {}))

    // Color[1] Color["Red"]
  ```

- promisify
  
  ```javascript
    function promisify(fn) {
        console.log(fn,"fn"); // 保存的是原始函数(add)
        return function (...args) {
            console.log(...args,"...args"); // 2 6 保存的是调用时的参数
            返回promise对象
            return new Promise(function (resolve, reject) {
                // 将callback放到参数末尾,并执行callback函数
                args.push(function (err, ...arg) {
                    console.log(...args,"12"); // 2 6 callback,
                    if (err) {
                        reject(err);
                        return;
                    }
                    resolve(...arg);
                });

                fn.apply(null, args);
            });
        }
    }
  ```